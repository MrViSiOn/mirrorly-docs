# Staging Environment Configuration
# Copy this file and update with your staging values

# Application
NODE_ENV=staging
PORT=3000
APP_NAME=mirrorly-api-staging
APP_VERSION=1.0.0

# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_NAME=mirrorly_staging
DB_USER=mirrorly_staging_user
DB_PASSWORD=your_staging_password_here
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# Google Generative AI
GOOGLE_AI_API_KEY=your_google_ai_api_key_here
GOOGLE_AI_MODEL_TEXT=gemini-pro
GOOGLE_AI_MODEL_VISION=gemini-pro-vision
GOOGLE_AI_TIMEOUT=30000
GOOGLE_AI_MAX_RETRIES=3

# JWT Configuration
JWT_SECRET=your_staging_jwt_secret_here_minimum_32_characters
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Rate Limiting (more relaxed for testing)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# File Upload Configuration
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp
UPLOAD_TEMP_DIR=/app/temp
UPLOAD_DEST_DIR=/app/uploads

# Logging Configuration (more verbose for debugging)
LOG_LEVEL=debug
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=10
LOG_DATE_PATTERN=YYYY-MM-DD

# Security (more permissive for testing)
CORS_ORIGIN=*
CORS_CREDENTIALS=true
HELMET_ENABLED=true
TRUST_PROXY=true

# Performance
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
CACHE_TTL=1800
CACHE_MAX_SIZE=50

# Monitoring
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090

# External Services
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=1

# Email Configuration (test settings)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_SECURE=false
SMTP_USER=your_mailtrap_user
SMTP_PASSWORD=your_mailtrap_password
SMTP_FROM=Mirrorly Staging <staging@mirrorly.test>

# Cleanup Configuration (more frequent for testing)
CLEANUP_ENABLED=true
CLEANUP_INTERVAL=1800000
CLEANUP_MAX_AGE=43200000
CLEANUP_BATCH_SIZE=50

# API Configuration
API_BASE_URL=https://staging-api.yourdomain.com
API_TIMEOUT=30000
API_MAX_RETRIES=3

# License Server
LICENSE_SERVER_URL=https://staging-license.yourdomain.com
LICENSE_CHECK_INTERVAL=1800000

# Backup Configuration (disabled in staging)
BACKUP_ENABLED=false

# SSL Configuration (may use self-signed in staging)
SSL_ENABLED=false

# Process Management (single instance for staging)
PM2_INSTANCES=1
PM2_MAX_MEMORY=1024M
PM2_RESTART_DELAY=2000

# Development/Debug (enabled for staging)
DEBUG_ENABLED=true
VERBOSE_LOGGING=true
STACK_TRACE_ENABLED=true